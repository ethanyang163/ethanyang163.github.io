<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.5"/><style data-href="/styles.d6e3fe2d414a2aca125b.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#073642}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{background:#eee8d5;color:#657b83}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.layout-module--container--78b04{font-family:sans-serif;margin:auto;max-width:500px}.layout-module--heading--f158c{color:#639}.layout-module--nav-links--1113b{display:flex;list-style:none;padding-left:0}.layout-module--nav-link-item--a5f0a{padding-right:2rem}.layout-module--nav-link-text--69cda{color:#000}.layout-module--site-title--e4dea{color:gray;font-size:3rem;font-weight:700;margin:3rem 0}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-gatsby-head="true">æµè§ˆå™¨çš„Event Loop | Ethan Yang</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-module--container--78b04"><header class="layout-module--site-title--e4dea">Ethan Yang</header><nav><ul class="layout-module--nav-links--1113b"><li class="layout-module--nav-link-item--a5f0a"><a class="layout-module--nav-link-text--69cda" href="/">Home</a></li><li class="layout-module--nav-link-item--a5f0a"><a class="layout-module--nav-link-text--69cda" href="/about/">About</a></li><li class="layout-module--nav-link-item--a5f0a"><a class="layout-module--nav-link-text--69cda" href="/blog/">Blog</a></li></ul></nav><main><h1 class="layout-module--heading--f158c">æµè§ˆå™¨çš„Event Loop</h1><p>æˆ‘ä»¬æ—¶å¸¸ä¼šçœ‹åˆ°çš„å…³äº JavaScript çš„ä¸€äº›åè¯ï¼š</p>
<p><strong>å•çº¿ç¨‹</strong>ï¼šone thread == one call stack == one thing at a time</p>
<p><strong>é˜»å¡</strong>ï¼šå½“è€—æ—¶çš„ä»»åŠ¡ï¼ˆå›¾ç‰‡å¤„ç†ã€åŒæ­¥çš„ç½‘ç»œè¯·æ±‚ç­‰ï¼‰å‡ºç°åœ¨è°ƒç”¨æ ˆä¸­æ—¶å³ä¸ºé˜»å¡</p>
<p><strong>å¼‚æ­¥</strong>ï¼šå¼‚æ­¥è°ƒç”¨ä¹Ÿè®¸æ˜¯è§£å†³é˜»å¡æœ€ç®€å•çš„æ–¹æ³•</p>
<p><strong>å¹¶å‘</strong>ï¼šEvent Loop æ‰€è¦è§£å†³çš„é—®é¢˜ã€‚JavaScript Runtime æ¯æ¬¡åªèƒ½åšä¸€ä»¶äº‹æƒ…ï¼Œä½†æ˜¯æµè§ˆå™¨é‡Œä¸ä»…ä»…åªæœ‰ JavaScript Runtimeã€‚ğŸ‘‡</p>
<img src="https://ethanyounglife.oss-cn-beijing.aliyuncs.com/%E6%88%AA%E5%B1%8F2021-02-20%2014.32.41.png?x-oss-process=image/resize,m_lfit,w_600" alt=""/>
<p>é€šè¿‡<a href="http://latentflip.com/loupe/?code=Cgpjb25zb2xlLmxvZygnSGknKTsKCnNldFRpbWVvdXQoZnVuY3Rpb24gY2IoKSB7CiAgICBjb25zb2xlLmxvZygndGhlcmUnKTsKfSwgMzAwMCkKCmNvbnNvbGUubG9nKCdKU0NvbmYnKQ%3D%3D!!!" rel="nofollow noopener noreferrer">Loupe</a>(ä¸€ç§å±•ç¤º JavaScript çš„ Call Stackã€Event Loopã€Callback Queue å¦‚ä½•åä½œçš„å¯è§†åŒ–å·¥å…·)æ¥çœ‹ä¸€ä¸‹äº‹ä»¶å¾ªç¯æ˜¯å¦‚ä½•å·¥ä½œçš„</p>
<img src="https://pic2.zhimg.com/50/v2-093b11b0b5337fc5165bcbdb3811cfd6_720w.webp?source=c8b7c179" alt=""/>
<p>Event Loop ä¸æ­¢ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“å¾®ä»»åŠ¡é˜Ÿåˆ—å’Œ UI æ¸²æŸ“å†åŠ å…¥åˆ°è¿™ä¸ªæµç¨‹ä¸­æ—¶ï¼š</p>
<img src="https://ethanyounglife.oss-cn-beijing.aliyuncs.com/event-loop.jpg" alt=""/>
<p>å†æ¬¡çœ‹ä¸€æ®µä»£ç çš„æ‰§è¡Œï¼Œè¿™æ¬¡åŒæ—¶åŒ…å«äº†å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ï¼š</p>
<img src="https://pic3.zhimg.com/50/v2-778d214a75a2a7a0abd63b891d357b4f_720w.webp?source=c8b7c179" alt=""/>
<h3>æ€»ç»“</h3>
<p>äº‹ä»¶å¾ªç¯ç®—æ³•ï¼š</p>
<ol>
<li>ä»å®ä»»åŠ¡é˜Ÿåˆ—å‡ºå–å‡ºæœ€è€çš„ä»»åŠ¡æ‰§è¡Œ</li>
<li>æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ï¼Œç›´è‡³å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºä¸ºæ­¢</li>
<li>å¿…è¦æ—¶æ¸²æŸ“ UI</li>
<li>å¦‚æœå®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œç­‰å¾…ä¸€ä¸ªæ–°çš„ä»»åŠ¡å‡ºç°</li>
<li>æ‰§è¡Œæ­¥éª¤ 1</li>
</ol>
<h3>[å‚è€ƒèµ„æ–™]</h3>
<p><a href="http://lynnelv.github.io/js-event-loop-browser" rel="nofollow noopener noreferrer">æ·±å…¥ç†è§£ js äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼ˆæµè§ˆå™¨ç¯‡ï¼‰</a></p>
<p><a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ&amp;feature=youtu.be" rel="nofollow noopener noreferrer">What the heck is the event loop anyway? | Philip Roberts | JSConf EU</a></p>
<p><a href="https://www.youtube.com/watch?v=cCOL7MC4Pl0" rel="nofollow noopener noreferrer">Jake Archibald: In The Loop - JSConf.Asia</a></p></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/post-2021-02-22/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-0d25acd4b5b80c0ec1c0.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-8418e948c6af4847a834.js\"],\"component---src-pages-about-js\":[\"/component---src-pages-about-js-1fcb0d27a1924476424a.js\"],\"component---src-pages-blog-index-js\":[\"/component---src-pages-blog-index-js-5e0caaf646d460e0db1d.js\"],\"component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-post-2021-02-22-mdx\":[\"/component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-post-2021-02-22-mdx-315a82b8acfe1bd6b698.js\"],\"component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-post-2021-06-02-mdx\":[\"/component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-post-2021-06-02-mdx-04522693818a5613a7e5.js\"],\"component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-post-2022-12-10-mdx\":[\"/component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-post-2022-12-10-mdx-9cfa1c827bbf9c82ade2.js\"],\"component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-post-2023-06-01-mdx\":[\"/component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-post-2023-06-01-mdx-3702e40122ae1cc3bf2d.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-70951c0a33aeccdbf5e8.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="4c139764a06242b8e968";</script><script src="/webpack-runtime-f7191a3c96d1c673a4c9.js" async></script><script src="/framework-00bf2bb98c1b8e9fbdeb.js" async></script><script src="/app-0d25acd4b5b80c0ec1c0.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>